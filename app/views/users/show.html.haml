%main.user-blog
  .user-blog__container
    .user-blog__user-info
      = image_tag gravatar_image(@user), size: 70, class: "user-blog__user-image--big"
      .user-blog__user-name= @user.name
      .user-blog__user-id= "@#{@user.id}"
      .user-blog__user-status-box
        .user-blog__user-status
          = link_to follows_list_path, class: "user-blog__user-status-link" do
            .user-blog__user-status-label Follow
            %p.user-blog__user-status-count= current_user ? current_user.active_follows.count : 0
        .user-blog__user-status
          = link_to followers_list_path, class: "user-blog__user-status-link" do
            .user-blog__user-status-label Follower
            %p.user-blog__user-status-count= current_user ? current_user.passive_follows.count : 0
    .user-blog__user-articles-section
      %h2.user-blog__section-title 新着記事
      .user-blog__user-articles
        - @articles.each do |article|
          .user-article
            = link_to public_path(article), class: "user-article__article--link" do
              .user-article--right
                = image_tag gravatar_image(@user), size: 40, class: "user-blog__user-image--small"
              .user-blog__user-article--left
                .user-article__title= article.title
                .user-article__article-status
                  %span.user-article__author= article.user.name
                  %span.user-article__article-analytics
                    %span.user-article__like-count
                      %i.far.fa-thumbs-up
                      = article.likes.count
                    %span.user-article__created= article.created_at.strftime("%Y-%m-%d")
      - if @articles && @articles.total_pages > 1
        .user-blog__user-article-paginate
          = link_to_prev_page @articles, "前のページ", class: "user-blog__prev-page"
          - unless @articles.out_of_range?
            .now_page= "#{@articles.current_page}/#{@articles.total_pages}"
          = link_to_next_page @articles, "次のページ", class: "user-blog__next-page"
